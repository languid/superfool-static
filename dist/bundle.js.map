{"version":3,"file":"bundle.js","sources":["../src/rem.js","../src/main.js"],"sourcesContent":["/* eslint-disable */\n\n(function (window, undefined) {\n  'use strict'\n  // test for REM unit support\n  var cssremunit = function () {\n      var div = document.createElement('div')\n      div.style.cssText = 'font-size: 1rem;'\n\n      return (/rem/).test(div.style.fontSize)\n    },\n\n    // filter returned links for stylesheets\n    isStyleSheet = function () {\n      var styles = document.getElementsByTagName('link'),\n        filteredLinks = []\n\n      for (var i = 0; i < styles.length; i++) {\n        if (styles[i].rel.toLowerCase() === 'stylesheet' && styles[i].getAttribute('data-norem') === null) {\n          filteredLinks.push(styles[i].href)\n        }\n      }\n\n      return filteredLinks\n    },\n\n    processLinks = function () {\n      // prepare to match each link\n      for (var i = 0; i < links.length; i++) {\n        xhr(links[i], storeCSS)\n      }\n    },\n\n    storeCSS = function (response, link) {\n      preCSS.push(response.responseText)\n      CSSLinks.push(link)\n\n      if (CSSLinks.length === links.length) {\n        for (var j = 0; j < CSSLinks.length; j++) {\n          matchCSS(preCSS[j], CSSLinks[j])\n        }\n\n        if ((links = importLinks.slice(0)).length > 0) { // after finishing all current links, set links equal to the new imports found\n          CSSLinks = []\n          preCSS = []\n          importLinks = []\n          processLinks()\n        } else {\n          buildCSS()\n        }\n      }\n    },\n\n    matchCSS = function (sheetCSS, link) { // collect all of the rules from the xhr response texts and match them to a pattern\n      var clean = removeMediaQueries(sheetCSS).replace(/\\/\\*[\\s\\S]*?\\*\\//g, ''), // remove MediaQueries and comments\n        pattern = /[\\w\\d\\s\\-\\/\\\\\\[\\]:,.'\"*()<>+~%#^$_=|@]+\\{[\\w\\d\\s\\-\\/\\\\%#:!;,.'\"*()]+\\d*\\.?\\d+rem[\\w\\d\\s\\-\\/\\\\%#:!;,.'\"*()]*\\}/g, // find selectors that use rem in one or more of their rules\n        current = clean.match(pattern),\n        remPattern = /\\d*\\.?\\d+rem/g,\n        remCurrent = clean.match(remPattern),\n        sheetPathPattern = /(.*\\/)/,\n        sheetPath = sheetPathPattern.exec(link)[0], // relative path to css file specified in @import\n        importPattern = /@import (?:url\\()?['\"]?([^'\\)\"]*)['\"]?\\)?[^;]*/gm, // matches all @import variations outlined at: https://developer.mozilla.org/en-US/docs/Web/CSS/@import\n        importStatement\n\n      while ((importStatement = importPattern.exec(sheetCSS)) !== null) {\n        if (importStatement[1].indexOf('/') === 0) { // check if the value of importStatement[1] is a root relative path, in which case it shouldn't be concatenated with sheetPath\n          importLinks.push(importStatement[1])\n        } else {\n          importLinks.push(sheetPath + importStatement[1])\n        }\n      }\n\n      if (current !== null && current.length !== 0) {\n        found = found.concat(current) // save all of the blocks of rules with rem in a property\n        foundProps = foundProps.concat(remCurrent) // save all of the properties with rem\n      }\n    },\n\n    buildCSS = function () { // first build each individual rule from elements in the found array and then add it to the string of rules.\n      var pattern = /[\\w\\d\\s\\-\\/\\\\%#:,.'\"*()]+\\d*\\.?\\d+rem[\\w\\d\\s\\-\\/\\\\%#:!,.'\"*()]*[;}]/g // find properties with rem values in them\n      for (var i = 0; i < found.length; i++) {\n        rules = rules + found[i].substr(0, found[i].indexOf('{') + 1) // save the selector portion of each rule with a rem value\n        var current = found[i].match(pattern)\n        for (var j = 0; j < current.length; j++) { // build a new set of with only the selector and properties that have rem in the value\n          rules = rules + current[j]\n          if (j === current.length - 1 && rules[rules.length - 1] !== '}') {\n            rules = rules + '\\n}'\n          }\n        }\n      }\n\n      parseCSS()\n    },\n\n    parseCSS = function () { // replace each set of parentheses with evaluated content\n      for (var i = 0; i < foundProps.length; i++) {\n        css[i] = Math.round(parseFloat(foundProps[i].substr(0, foundProps[i].length - 3) * fontSize)) + 'px'\n      }\n\n      loadCSS()\n    },\n\n    loadCSS = function () { // replace and load the new rules\n      for (var i = 0; i < css.length; i++) { // only run this loop as many times as css has entries\n        if (css[i]) {\n          rules = rules.replace(foundProps[i], css[i]) // replace old rules with our processed rules\n        }\n      }\n      var remcss = document.createElement('style')\n      remcss.setAttribute('type', 'text/css')\n      remcss.id = 'remReplace'\n      document.getElementsByTagName('head')[0].appendChild(remcss) // create the new element\n      if (remcss.styleSheet) {\n        remcss.styleSheet.cssText = rules // IE8 will not support innerHTML on read-only elements, such as STYLE\n      } else {\n        remcss.appendChild(document.createTextNode(rules))\n      }\n    },\n\n    xhr = function (url, callback) { // create new XMLHttpRequest object and run it\n      try {\n        // try to create a request object\n        // arranging the two conditions this way is for IE7/8's benefit\n        // so that it works with any combination of ActiveX or Native XHR settings,\n        // as long as one or the other is enabled; but if both are enabled\n        // it prefers ActiveX, which means it still works with local files\n        // (Native XHR in IE7/8 is blocked and throws \"access is denied\",\n        // but ActiveX is permitted if the user allows it [default is to prompt])\n        var xhr = window.ActiveXObject ? (new ActiveXObject('Microsoft.XMLHTTP') || new ActiveXObject('Msxml2.XMLHTTP')) : new XMLHttpRequest()\n\n        xhr.open('GET', url, true)\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            callback(xhr, url)\n          } // else { callback function on AJAX error }\n        }\n\n        xhr.send(null)\n      } catch (e) {\n        if (window.XDomainRequest) {\n          var xdr = new XDomainRequest()\n          xdr.open('get', url)\n          xdr.onload = function () {\n            callback(xdr, url)\n          }\n          xdr.onerror = function () {\n            return false // xdr load fail\n          }\n          xdr.send()\n        }\n      }\n    },\n\n    // Remove queries.\n    removeMediaQueries = function (css) {\n      // Test for Media Query support\n      if (!window.matchMedia && !window.msMatchMedia) {\n        // If the browser doesn't support media queries, we find all @media declarations in the CSS and remove them.\n        // Note: Since @rules can't be nested in the CSS spec, we're safe to just check for the closest following \"}}\" to the \"@media\".\n        css = css.replace(/@media[\\s\\S]*?\\}\\s*\\}/g, '')\n      }\n\n      return css\n    }\n\n  if (!cssremunit()) { // this checks if the rem value is supported\n    var rules = '', // initialize the rules variable in this scope so it can be used later\n      links = isStyleSheet(), // initialize the array holding the sheets urls for use later\n      importLinks = [], // initialize the array holding the import sheet urls for use later\n      found = [], // initialize the array holding the found rules for use later\n      foundProps = [], // initialize the array holding the found properties for use later\n      preCSS = [], // initialize array that holds css before being parsed\n      CSSLinks = [], // initialize array holding css links returned from xhr\n      css = [], // initialize the array holding the parsed rules for use later\n      fontSize = ''\n\n    // Notice: rem is a \"root em\" that means that in case when html element size was changed by css\n    // or style we should not change document.documentElement.fontSize to 1em - only body size should be changed\n    // to 1em for calculation\n\n    fontSize = (function () {\n      var doc = document,\n        docElement = doc.documentElement,\n        body = doc.body || doc.createElement('body'),\n        isFakeBody = !doc.body,\n        div = doc.createElement('div'),\n        currentSize = body.style.fontSize,\n        size\n\n      if (isFakeBody) {\n        docElement.appendChild(body)\n      }\n\n      div.style.cssText = 'width:1em; position:absolute; visibility:hidden; padding: 0;'\n\n      body.style.fontSize = '1em'\n\n      body.appendChild(div)\n      size = div.offsetWidth\n\n      if (isFakeBody) {\n        docElement.removeChild(body)\n      } else {\n        body.removeChild(div)\n        body.style.fontSize = currentSize\n      }\n\n      return size\n    }())\n\n    processLinks()\n  } // else { do nothing, you are awesome and have REM support }\n})(window)\n","import './rem'\n\nconst a = 10\nconsole.log(a)\n"],"names":["window","undefined","cssremunit","div","document","createElement","style","cssText","test","fontSize","isStyleSheet","styles","getElementsByTagName","filteredLinks","i","length","rel","toLowerCase","getAttribute","push","href","processLinks","links","storeCSS","response","link","responseText","CSSLinks","j","preCSS","importLinks","slice","matchCSS","sheetCSS","clean","removeMediaQueries","replace","pattern","current","match","remPattern","remCurrent","sheetPathPattern","sheetPath","exec","importPattern","importStatement","indexOf","found","concat","foundProps","buildCSS","rules","substr","parseCSS","Math","round","parseFloat","loadCSS","css","remcss","setAttribute","id","appendChild","styleSheet","createTextNode","xhr","url","callback","ActiveXObject","XMLHttpRequest","open","onreadystatechange","readyState","send","e","XDomainRequest","xdr","onload","onerror","matchMedia","msMatchMedia","doc","docElement","documentElement","body","isFakeBody","currentSize","size","offsetWidth","removeChild","a","console","log"],"mappings":"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"}